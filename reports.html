<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Laporan Produksi Songket - Dashboard Monitoring</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="laporan, songket, produksi, analisis" name="keywords">
    <meta content="Halaman laporan dan analisis produksi songket" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <!-- Songket Dashboard Custom Stylesheet -->
    <link href="css/songket-dashboard.css" rel="stylesheet">
</head>

<body>
    <div class="container-xxl position-relative bg-white d-flex p-0">
        <!-- Spinner Start -->
        <div id="spinner"
            class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->

        <!-- Sidebar Start -->
        <div class="sidebar pe-4 pb-3">
            <nav class="navbar bg-light navbar-light">
                <a href="index.html" class="navbar-brand mx-4 mb-3">
                    <h3 class="text-primary"><i class="fas fa-square me-2"></i>Songket Pro</h3>
                </a>
                <div class="d-flex align-items-center ms-4 mb-4">
                    <div class="position-relative">
                        <img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                        <div
                            class="bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1">
                        </div>
                    </div>
                    <div class="ms-3">
                        <h6 class="mb-0">Admin Produksi</h6>
                        <span>Supervisor</span>
                    </div>
                </div>
                <div class="navbar-nav w-100">
                    <a href="index.html" class="nav-item nav-link"><i
                            class="fa fa-tachometer-alt me-2"></i>Dashboard</a>
                    <a href="production.html" class="nav-item nav-link"><i class="fas fa-cogs me-2"></i>Data
                        Produksi</a>
                    <a href="patterns.html" class="nav-item nav-link"><i class="fas fa-palette me-2"></i>Pola
                        Songket</a>
                    <a href="stock.html" class="nav-item nav-link"><i class="fas fa-boxes me-2"></i>Stok</a>
                    <a href="reports.html" class="nav-item nav-link active"><i
                            class="fa fa-chart-bar me-2"></i>Laporan</a>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"><i
                                class="fas fa-tools me-2"></i>Pengaturan</a>
                        <div class="dropdown-menu bg-transparent border-0">
                            <a href="users.html" class="dropdown-item">Pengguna</a>
                            <a href="categories.html" class="dropdown-item">Kategori Pola</a>
                            <a href="settings.html" class="dropdown-item">Konfigurasi</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
        <!-- Sidebar End -->

        <!-- Content Start -->
        <div class="content">
            <!-- Navbar Start -->
            <nav class="navbar navbar-expand bg-light navbar-light sticky-top px-4 py-0">
                <a href="index.html" class="navbar-brand d-flex d-lg-none me-4">
                    <h2 class="text-primary mb-0"><i class="fas fa-chart-bar"></i></h2>
                </a>
                <a href="#" class="sidebar-toggler flex-shrink-0">
                    <i class="fa fa-bars"></i>
                </a>
                <form class="d-none d-md-flex ms-4">
                    <input class="form-control border-0" type="search" placeholder="Cari laporan...">
                </form>
                <div class="navbar-nav align-items-center ms-auto">
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <i class="fa fa-envelope me-lg-2"></i>
                            <span class="d-none d-lg-inline-flex">Message</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">
                                <div class="d-flex align-items-center">
                                    <img class="rounded-circle" src="img/user.jpg" alt=""
                                        style="width: 40px; height: 40px;">
                                    <div class="ms-2">
                                        <h6 class="fw-normal mb-0">Laporan siap diunduh</h6>
                                        <small>5 menit yang lalu</small>
                                    </div>
                                </div>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item text-center">See all message</a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <i class="fa fa-bell me-lg-2"></i>
                            <span class="d-none d-lg-inline-flex">Notification</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">
                                <h6 class="fw-normal mb-0">Laporan bulanan selesai</h6>
                                <small>10 menit yang lalu</small>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <h6 class="fw-normal mb-0">Export data berhasil</h6>
                                <small>25 menit yang lalu</small>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item text-center">See all notifications</a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <img class="rounded-circle me-lg-2" src="img/user.jpg" alt=""
                                style="width: 40px; height: 40px;">
                            <span class="d-none d-lg-inline-flex">Admin Songket</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">My Profile</a>
                            <a href="#" class="dropdown-item">Settings</a>
                            <a href="#" class="dropdown-item">Log Out</a>
                        </div>
                    </div>
                </div>
            </nav>
            <!-- Navbar End -->

            <!-- Page Header Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="row">
                    <div class="col-12">
                        <div class="bg-light rounded h-100 p-4 page-header">
                            <div class="d-flex align-items-center justify-content-between mb-0">
                                <div class="d-flex align-items-center">
                                    <div class="status-indicator me-3">
                                        <span class="status-dot bg-info"></span>
                                    </div>
                                    <div>
                                        <h6 class="mb-0">Laporan Produksi Songket</h6>
                                        <small class="text-muted">Analisis dan statistik produksi</small>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <div class="me-3 text-end">
                                        <span id="live-date" class="text-muted d-block small"></span>
                                        <span id="live-clock" class="fw-bold text-primary digital-clock"></span>
                                    </div>
                                    <div class="clock-icon">
                                        <i class="fas fa-clock text-primary"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Page Header End -->

            <!-- Report Filter Panel Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="bg-light rounded p-4">
                    <h6 class="mb-4"><i class="fas fa-filter me-2"></i>Filter Laporan</h6>
                    <div class="row g-3">
                        <div class="col-md-3">
                            <label class="form-label">Jenis Laporan</label>
                            <select class="form-select" id="reportType">
                                <option value="all">Semua Laporan</option>
                                <option value="production">Laporan Produksi</option>
                                <option value="stock">Laporan Stok</option>
                                <option value="pattern">Laporan Pola</option>
                                <option value="financial">Laporan Keuangan</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Periode</label>
                            <select class="form-select" id="reportPeriod">
                                <option value="today">Hari Ini</option>
                                <option value="week">Minggu Ini</option>
                                <option value="month" selected>Bulan Ini</option>
                                <option value="quarter">Kuartal Ini</option>
                                <option value="year">Tahun Ini</option>
                                <option value="custom">Periode Khusus</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Dari Tanggal</label>
                            <input type="date" class="form-control" id="startDate" value="2025-06-01">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Sampai Tanggal</label>
                            <input type="date" class="form-control" id="endDate" value="2025-06-23">
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12">
                            <button class="btn btn-primary me-2" onclick="generateReport()">
                                <i class="fas fa-search me-2"></i>Generate Laporan
                            </button>
                            <button class="btn btn-success me-2" onclick="exportReport()">
                                <i class="fas fa-download me-2"></i>Export Excel
                            </button>
                            <button class="btn btn-danger me-2" onclick="exportPDF()">
                                <i class="fas fa-file-pdf me-2"></i>Export PDF
                            </button>
                            <button class="btn btn-info" onclick="printReport()">
                                <i class="fas fa-print me-2"></i>Print
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Report Filter Panel End -->

            <!-- Report Summary Cards Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="row g-4">
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center justify-content-between p-4 report-card">
                            <div class="icon-container">
                                <i class="fas fa-chart-line fa-3x text-primary"></i>
                            </div>
                            <div class="ms-3 text-content">
                                <p class="mb-2">Total Produksi</p>
                                <h6 class="mb-0">28,950 cm</h6>
                                <small class="text-success">
                                    <i class="fas fa-arrow-up"></i> +12% dari bulan lalu
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center justify-content-between p-4 report-card">
                            <div class="icon-container">
                                <i class="fas fa-coins fa-3x text-success"></i>
                            </div>
                            <div class="ms-3 text-content">
                                <p class="mb-2">Total Pendapatan</p>
                                <h6 class="mb-0">Rp 145,2 Juta</h6>
                                <small class="text-success">
                                    <i class="fas fa-arrow-up"></i> +8% dari bulan lalu
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center justify-content-between p-4 report-card">
                            <div class="icon-container">
                                <i class="fas fa-box fa-3x text-warning"></i>
                            </div>
                            <div class="ms-3 text-content">
                                <p class="mb-2">Stok Terpakai</p>
                                <h6 class="mb-0">12,450 cm</h6>
                                <small class="text-info">
                                    <i class="fas fa-info-circle"></i> Efisiensi 92%
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center justify-content-between p-4 report-card">
                            <div class="icon-container">
                                <i class="fas fa-clock fa-3x text-info"></i>
                            </div>
                            <div class="ms-3 text-content">
                                <p class="mb-2">Jam Produksi</p>
                                <h6 class="mb-0">486 Jam</h6>
                                <small class="text-warning">
                                    <i class="fas fa-clock"></i> Rata-rata 22 jam/hari
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Report Summary Cards End -->

            <!-- Charts and Analysis Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="row g-4">
                    <div class="col-sm-12 col-xl-6">
                        <div class="bg-light text-center rounded p-4 h-100">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0"><i class="fas fa-chart-area me-2 text-primary"></i>Tren Produksi
                                    Bulanan</h6>
                                <a href="#" class="btn btn-sm btn-outline-primary">Detail</a>
                            </div>
                            <div class="chart-container">
                                <canvas id="monthly-trend"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-xl-6">
                        <div class="bg-light text-center rounded p-4 h-100">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0"><i class="fas fa-chart-pie me-2 text-success"></i>Distribusi Pola
                                    Populer</h6>
                                <a href="#" class="btn btn-sm btn-outline-success">Detail</a>
                            </div>
                            <div class="chart-container">
                                <canvas id="pattern-distribution"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Charts and Analysis End -->

            <!-- Detailed Reports Table Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="bg-light text-center rounded p-4">
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <h6 class="mb-0"><i class="fas fa-table me-2"></i>Laporan Detail Produksi</h6>
                        <div>
                            <button class="btn btn-sm btn-primary me-2" onclick="refreshTable()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                            <button class="btn btn-sm btn-success" onclick="exportTableData()">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table text-start align-middle table-bordered table-hover mb-0" id="reportTable">
                            <thead>
                                <tr class="text-dark">
                                    <th scope="col">#</th>
                                    <th scope="col">Tanggal</th>
                                    <th scope="col">Pola Songket</th>
                                    <th scope="col">Target (cm)</th>
                                    <th scope="col">Realisasi (cm)</th>
                                    <th scope="col">Pencapaian</th>
                                    <th scope="col">Kualitas</th>
                                    <th scope="col">Pendapatan</th>
                                    <th scope="col">Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>23 Jun 2025</td>
                                    <td>Pola Bunga Melati</td>
                                    <td>150</td>
                                    <td>155</td>
                                    <td><span class="text-success fw-bold">103%</span></td>
                                    <td><span class="badge bg-success">A</span></td>
                                    <td>Rp 7,750,000</td>
                                    <td><span class="badge bg-success">Selesai</span></td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>22 Jun 2025</td>
                                    <td>Pola Tengkulok</td>
                                    <td>120</td>
                                    <td>118</td>
                                    <td><span class="text-warning fw-bold">98%</span></td>
                                    <td><span class="badge bg-success">A</span></td>
                                    <td>Rp 5,900,000</td>
                                    <td><span class="badge bg-success">Selesai</span></td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>21 Jun 2025</td>
                                    <td>Pola Pucuk Rebung</td>
                                    <td>95</td>
                                    <td>95</td>
                                    <td><span class="text-success fw-bold">100%</span></td>
                                    <td><span class="badge bg-success">A</span></td>
                                    <td>Rp 4,750,000</td>
                                    <td><span class="badge bg-success">Selesai</span></td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>20 Jun 2025</td>
                                    <td>Pola Bungo Tanjung</td>
                                    <td>180</td>
                                    <td>175</td>
                                    <td><span class="text-warning fw-bold">97%</span></td>
                                    <td><span class="badge bg-warning">B</span></td>
                                    <td>Rp 8,750,000</td>
                                    <td><span class="badge bg-success">Selesai</span></td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>19 Jun 2025</td>
                                    <td>Pola Itik Pulang Petang</td>
                                    <td>75</td>
                                    <td>78</td>
                                    <td><span class="text-success fw-bold">104%</span></td>
                                    <td><span class="badge bg-success">A</span></td>
                                    <td>Rp 3,900,000</td>
                                    <td><span class="badge bg-success">Selesai</span></td>
                                </tr>
                                <tr>
                                    <td>6</td>
                                    <td>18 Jun 2025</td>
                                    <td>Pola Saik Akar</td>
                                    <td>110</td>
                                    <td>105</td>
                                    <td><span class="text-danger fw-bold">95%</span></td>
                                    <td><span class="badge bg-warning">B</span></td>
                                    <td>Rp 5,250,000</td>
                                    <td><span class="badge bg-success">Selesai</span></td>
                                </tr>
                                <tr>
                                    <td>7</td>
                                    <td>17 Jun 2025</td>
                                    <td>Pola Lepus Berantai</td>
                                    <td>130</td>
                                    <td>135</td>
                                    <td><span class="text-success fw-bold">104%</span></td>
                                    <td><span class="badge bg-success">A</span></td>
                                    <td>Rp 6,750,000</td>
                                    <td><span class="badge bg-success">Selesai</span></td>
                                </tr>
                                <tr>
                                    <td>8</td>
                                    <td>16 Jun 2025</td>
                                    <td>Pola Awan Larat</td>
                                    <td>85</td>
                                    <td>88</td>
                                    <td><span class="text-success fw-bold">103%</span></td>
                                    <td><span class="badge bg-success">A</span></td>
                                    <td>Rp 4,400,000</td>
                                    <td><span class="badge bg-success">Selesai</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="d-flex align-items-center justify-content-between mt-4">
                        <div>
                            <small class="text-muted">Menampilkan 8 dari 156 data</small>
                        </div>
                        <nav aria-label="Table pagination">
                            <ul class="pagination pagination-sm mb-0">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
            <!-- Detailed Reports Table End -->

            <!-- Performance Metrics Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="row g-4">
                    <div class="col-sm-12 col-xl-4">
                        <div class="bg-light rounded p-4 h-100">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0"><i class="fas fa-trophy me-2 text-warning"></i>Top Performer</h6>
                                <a href="#" class="btn btn-sm btn-outline-warning">Lihat Semua</a>
                            </div>
                            <div class="performance-list">
                                <div class="d-flex align-items-center border-bottom py-3">
                                    <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center"
                                        style="width: 40px; height: 40px;">
                                        <span class="text-white fw-bold">1</span>
                                    </div>
                                    <div class="w-100 ms-3">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-0">Pola Bunga Melati</h6>
                                            <small class="text-success">155 cm</small>
                                        </div>
                                        <span class="text-muted">Target: 150 cm (103%)</span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center border-bottom py-3">
                                    <div class="bg-success rounded-circle d-flex align-items-center justify-content-center"
                                        style="width: 40px; height: 40px;">
                                        <span class="text-white fw-bold">2</span>
                                    </div>
                                    <div class="w-100 ms-3">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-0">Pola Lepus Berantai</h6>
                                            <small class="text-success">135 cm</small>
                                        </div>
                                        <span class="text-muted">Target: 130 cm (104%)</span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center pt-3">
                                    <div class="bg-warning rounded-circle d-flex align-items-center justify-content-center"
                                        style="width: 40px; height: 40px;">
                                        <span class="text-white fw-bold">3</span>
                                    </div>
                                    <div class="w-100 ms-3">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-0">Pola Awan Larat</h6>
                                            <small class="text-success">88 cm</small>
                                        </div>
                                        <span class="text-muted">Target: 85 cm (103%)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-xl-4">
                        <div class="bg-light rounded p-4 h-100">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0"><i class="fas fa-chart-bar me-2 text-info"></i>Efisiensi Produksi</h6>
                                <a href="#" class="btn btn-sm btn-outline-info">Analisis</a>
                            </div>
                            <div class="efficiency-metrics">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="flex-shrink-0">
                                        <i class="fas fa-percentage fa-2x text-success"></i>
                                    </div>
                                    <div class="w-100 ms-3">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-0">Rata-rata Pencapaian</h6>
                                            <span class="text-success fw-bold">101.2%</span>
                                        </div>
                                        <div class="progress mt-2" style="height: 6px;">
                                            <div class="progress-bar bg-success" role="progressbar"
                                                style="width: 101.2%" aria-valuenow="101.2" aria-valuemin="0"
                                                aria-valuemax="100"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center mb-3">
                                    <div class="flex-shrink-0">
                                        <i class="fas fa-star fa-2x text-warning"></i>
                                    </div>
                                    <div class="w-100 ms-3">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-0">Kualitas A</h6>
                                            <span class="text-warning fw-bold">87.5%</span>
                                        </div>
                                        <div class="progress mt-2" style="height: 6px;">
                                            <div class="progress-bar bg-warning" role="progressbar" style="width: 87.5%"
                                                aria-valuenow="87.5" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <div class="flex-shrink-0">
                                        <i class="fas fa-clock fa-2x text-info"></i>
                                    </div>
                                    <div class="w-100 ms-3">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-0">Ketepatan Waktu</h6>
                                            <span class="text-info fw-bold">96.3%</span>
                                        </div>
                                        <div class="progress mt-2" style="height: 6px;">
                                            <div class="progress-bar bg-info" role="progressbar" style="width: 96.3%"
                                                aria-valuenow="96.3" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-xl-4">
                        <div class="bg-light rounded p-4 h-100">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0"><i class="fas fa-exclamation-triangle me-2 text-danger"></i>Perhatian
                                    Khusus</h6>
                                <a href="#" class="btn btn-sm btn-outline-danger">Tindak Lanjut</a>
                            </div>
                            <div class="alert-list">
                                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                    <strong>Pola Saik Akar</strong> pencapaian 95% (di bawah target)
                                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                                </div>
                                <div class="alert alert-info alert-dismissible fade show" role="alert">
                                    <i class="fas fa-info-circle me-2"></i>
                                    <strong>Stok Benang Emas</strong> perlu direstok dalam 3 hari
                                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                                </div>
                                <div class="alert alert-success alert-dismissible fade show" role="alert">
                                    <i class="fas fa-check-circle me-2"></i>
                                    <strong>Target Bulan Ini</strong> sudah tercapai 80%
                                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Performance Metrics End -->

            <!-- Footer Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="bg-light rounded-top p-4">
                    <div class="row">
                        <div class="col-12 text-center">
                            <small class="text-muted">
                                <i class="fas fa-info-circle me-1"></i>
                                Laporan diperbarui setiap 5 menit | Terakhir diperbarui: <span id="last-update"></span>
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Footer End -->
        </div>
        <!-- Content End -->

        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/chart/chart.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <!-- Reports Dashboard Scripts -->
    <script>
        // Initialize Bootstrap tooltips
        document.addEventListener('DOMContentLoaded', function () {
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
        });

        // Monthly Trend Chart
        var ctx1 = $("#monthly-trend").get(0).getContext("2d");
        var monthlyTrendChart = new Chart(ctx1, {
            type: "line",
            data: {
                labels: ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun"],
                datasets: [{
                    label: "Produksi (cm)",
                    data: [18500, 22300, 24100, 26800, 25900, 28950],
                    backgroundColor: "rgba(0, 156, 255, .1)",
                    borderColor: "rgba(0, 156, 255, 1)",
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: "rgba(0, 156, 255, 1)",
                    pointBorderColor: "#fff",
                    pointBorderWidth: 2,
                    pointRadius: 6,
                    pointHoverRadius: 8
                }, {
                    label: "Target (cm)",
                    data: [20000, 22000, 24000, 26000, 26000, 28000],
                    backgroundColor: "rgba(255, 99, 132, .1)",
                    borderColor: "rgba(255, 99, 132, 1)",
                    borderWidth: 2,
                    fill: false,
                    borderDash: [5, 5],
                    tension: 0.4,
                    pointBackgroundColor: "rgba(255, 99, 132, 1)",
                    pointBorderColor: "#fff",
                    pointBorderWidth: 2,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: {
                    duration: 2000,
                    easing: 'easeInOutQuart'
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        },
                        ticks: {
                            callback: function (value) {
                                return value.toLocaleString('id-ID') + ' cm';
                            }
                        }
                    },
                    x: {
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    }
                }
            }
        });

        // Pattern Distribution Chart
        var ctx2 = $("#pattern-distribution").get(0).getContext("2d");
        var patternDistributionChart = new Chart(ctx2, {
            type: "doughnut",
            data: {
                labels: ["Bunga Melati", "Tengkulok", "Bungo Tanjung", "Lepus Berantai", "Awan Larat", "Pucuk Rebung", "Lainnya"],
                datasets: [{
                    data: [22, 18, 15, 12, 10, 8, 15],
                    backgroundColor: [
                        "rgba(0, 156, 255, .8)",
                        "rgba(40, 167, 69, .8)",
                        "rgba(23, 162, 184, .8)",
                        "rgba(255, 193, 7, .8)",
                        "rgba(220, 53, 69, .8)",
                        "rgba(108, 117, 125, .8)",
                        "rgba(102, 16, 242, .8)"
                    ],
                    borderWidth: 3,
                    borderColor: "rgba(255, 255, 255, 1)",
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: {
                    duration: 2000,
                    easing: 'easeInOutQuart'
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            usePointStyle: true,
                            font: {
                                size: 11
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return context.label + ': ' + context.parsed + '%';
                            }
                        }
                    }
                }
            }
        });

        // Report Functions
        function generateReport() {
            const reportType = document.getElementById('reportType').value;
            const period = document.getElementById('reportPeriod').value;
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;

            // Show loading
            const btn = event.target;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Generating...';
            btn.disabled = true;

            // Simulate API call
            setTimeout(() => {
                alert(`Laporan ${reportType} untuk periode ${period} berhasil dibuat!`);
                btn.innerHTML = '<i class="fas fa-search me-2"></i>Generate Laporan';
                btn.disabled = false;
                updateLastUpdate();
            }, 2000);
        }

        function exportReport() {
            alert('Export Excel berhasil! File akan diunduh...');
        }

        function exportPDF() {
            alert('Export PDF berhasil! File akan diunduh...');
        }

        function printReport() {
            window.print();
        }

        function refreshTable() {
            const btn = event.target;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            btn.disabled = true;

            setTimeout(() => {
                btn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
                btn.disabled = false;
                updateLastUpdate();
            }, 1500);
        }

        function exportTableData() {
            alert('Data tabel berhasil diexport ke Excel!');
        }

        // Real-time clock
        function updateClock() {
            var now = new Date();
            var timeString = now.toLocaleTimeString('id-ID', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            });
            var dateString = now.toLocaleDateString('id-ID', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });

            document.querySelectorAll('#live-clock').forEach(element => {
                element.textContent = timeString;
            });
            document.querySelectorAll('#live-date').forEach(element => {
                element.textContent = dateString;
            });
        }

        function updateLastUpdate() {
            var now = new Date();
            var updateString = now.toLocaleString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('last-update').textContent = updateString;
        }

        // Update clock every second
        setInterval(updateClock, 1000);
        updateClock(); // Initial call
        updateLastUpdate(); // Initial call

        // Auto-refresh charts every 5 minutes
        setInterval(function () {
            // Simulate data update
            monthlyTrendChart.data.datasets[0].data = monthlyTrendChart.data.datasets[0].data.map(value =>
                value + Math.floor(Math.random() * 200) - 100
            );
            monthlyTrendChart.update();

            updateLastUpdate();
        }, 300000); // 5 minutes

        // Filter period change handler
        document.getElementById('reportPeriod').addEventListener('change', function () {
            const period = this.value;
            const startDate = document.getElementById('startDate');
            const endDate = document.getElementById('endDate');
            const today = new Date();

            if (period === 'today') {
                startDate.value = today.toISOString().split('T')[0];
                endDate.value = today.toISOString().split('T')[0];
            } else if (period === 'week') {
                const weekStart = new Date(today.setDate(today.getDate() - today.getDay()));
                const weekEnd = new Date(today.setDate(today.getDate() - today.getDay() + 6));
                startDate.value = weekStart.toISOString().split('T')[0];
                endDate.value = weekEnd.toISOString().split('T')[0];
            } else if (period === 'month') {
                const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);
                const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);
                startDate.value = monthStart.toISOString().split('T')[0];
                endDate.value = monthEnd.toISOString().split('T')[0];
            }
        });
    </script>
</body>

</html>